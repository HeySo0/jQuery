<!DOCTYPE html>
<html>
<head>
<meta charset="UTF-8">
<title>Insert title here</title>
<link rel="stylesheet" href="../css/public.css">

<script src="../js/jquery-3.6.1.min.js"></script>
<script>
$(function(){
	cnt = 0;
// 	$('.btn').on('click', function(){			//bind
	$(document).on('click', '.btn', function(){	//delegate - '.btn' : 선택자
		cnt++;
		newbtn = $('<input type="button" value="새로운버튼'+cnt+'" class="btn">');
		
		$('#result1').append(newbtn);
		
		r=parseInt(Math.random()*256);
		g=parseInt(Math.random()*256);
		b=parseInt(Math.random()*256);
		
		$('#result2').css('background', `rgb(${r}, ${g}, ${b})`);
	})
	
	// 첫번째 box의 해제버튼
	$('#boff').on('click', function(){
		$(document).off('click', '.btn');
	
	})
	
	
	
	
	

	cnt2 = 0;
	// 추가버튼
	$('.add').on('click', function(){
		cnt2++;
		vfile="";
		vfile+="<div>";
		vfile+="파일"+cnt2+"<input type='file'>";
		vfile+='<input type="button" value="삭제'+cnt2+'" class="del">';
		vfile+="</div>";
		
		$('#result3').append(vfile);
	})
	
	// 삭제버튼 - 새로운 요소 - delegate 방식
	$(document).on('click', '.del', function(){
		$(this).parent().remove();
	})
})
</script>

</head>
<body>

	<div>
		<h3></h3>
		<input type="button" value="추가" class="btn"> 
		<input type="button" value="해제" id="boff">
		<br>
		<div id="result2"></div>
		<div id="result1"></div>
	</div>

	<div>
		<h3>
		
		</h3>
		<br>
		<div id="result3">
		이름<input type="text"><br>
		파일<input type="file">
		<input type="button" value="추가" class="add"> 
		
		</div>
	</div>
</body>
</html>
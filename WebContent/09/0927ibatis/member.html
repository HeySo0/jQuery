<!DOCTYPE html>
<html>
<head>
<meta charset="UTF-8">
<title>Insert title here</title>
<link rel="stylesheet" href="../css/public.css">
<script src = "../js/jquery-3.6.1.min.js"></script>
<script>
$(function(){
	$('#btn1').on('click', function(){
		$.ajax({
			url : 'member.jsp',
			type : 'get',
			success : function(result){
				code = "<table border = '1'>";
				code += "<tr><td>아이디</td><td>이름</td><td>번호</td><td>주소</td><td>이메일</td></tr>";
				
				$.each(result, function(i, v){
					code += `<tr><td>${v.id}</td><td>${v.name}</td><td>${v.hp}</td>`;
					code += `<td>${v.addr}</td><td>${v.mail}</td></tr>`;
				})
				code+="</table>";
				$('#result1').html(code);
			},
			error : function(xhr){
				alert("상태 : " + xhr.status);
			},	// 상태 : 200 => 응답은 성공했으나 json형식에서 틀림
			dataType : 'json'
		})
	})
})
</script>
</head>
<body>

	<div>
		<h3>
		ibatis를 이용하여 오라클 db의 member테이블의 내용을 가져오기<br>
		<br>
		오라클 라이브러리<br>
		ibatis 라이브러리<br>
		ibatis 설정 파일 - DB설정, VO 알리아스설정, mapper설정<br>
		SqlMapClient 생성을 위한 SqlMapClientFactory<br>
		sql쿼리문(crud)을 작성하는 xml파일 - mapper<br>
		
		</h3>
		<input type="button" value="확인" id="btn1"> 
		<div id="result1"></div>
	</div>
</body>
</html>